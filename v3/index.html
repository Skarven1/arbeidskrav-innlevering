<html>

<head>
    <style>
        #div1, #div2, #div3 {
        width: 100px;
        height: 100px;
        position: relative;
        display: inline-block;
        }
    </style>
</head>

<body>
    <h1>Fargespill v.2.</h1>
    <h3> Klikk på boksen nedenfor som matcher denne boksens farge</h3>
    <div id="boks1"></div>
    <h3 id="status-output">Du har ikke svart enda.</h3>
    <h2>Klikk på riktig boks nedenfor</h2>
    <div id=container>
        <div id="div1"></div>
        <div id="div2"></div>
        <div id="div3"></div>
    </div>
    <p id="color-output-a"></p>


    <script>
        let container = document.getElementById("container");
        let statusA = document.getElementById("status-output");

        let correctCount = 0;
        let wrongCount = 0;

        let div1 = document.getElementById("div1");
        div1.style.backgroundColor = rngRbg();
        div1.onclick = show1Color;

        let div2 = document.getElementById("div2");
        div2.style.backgroundColor = rngRbg();
        div2.onclick = show1Color;

        let div3 = document.getElementById("div3");
        div3.style.backgroundColor = rngRbg();
        div3.onclick = show1Color;


        
        function rngRbg() {
            let floorRandom = () => (Math.floor(Math.random() * 256))
            return "rgb(" + floorRandom() + "," + floorRandom() + "," + floorRandom() + ")";
        }
        
        function boksVelger() {
            var bokser = [div1, div2, div3];
            return bokser[Math.floor(Math.random() * bokser.length)];

        }

        let boks1 = document.getElementById("boks1");
        boks1.style.backgroundColor = boksVelger().style.backgroundColor;
        boks1.style.width = "100px";
        boks1.style.height = "100px";
        boks1.style.position = "relative";


        let colorOutputA = document.getElementById("color-output-a");

        function show1Color() {
            let backgroundColor = this.style.backgroundColor;

        }

        div1.onclick = onclick;
        div2.onclick = onclick;
        div3.onclick = onclick;
 
        function correctAnswer() {
            correctCount++;
            statusA.innerHTML = `Antall riktig: ${correctCount} Antall feil ${wrongCount} <br> Riktig svar!`;
        }

        function wrongAnswer() {
            wrongCount++;
            statusA.innerHTML = `Antall riktig: ${correctCount} Antall feil ${wrongCount} <br> Feil svar!`;

        }

        function onclick() {
            if (boks1.style.backgroundColor === this.style.backgroundColor) {
                correctAnswer();
                reset();
            } else {
                wrongAnswer()
                reset();
            }
        }

        function reset() {
            console.log("reset")
            let bokser = [div1, div2, div3];
            for(var i = 0, len = bokser.length; i < len; i++) {
                bokser[i].style.backgroundColor = rngRbg();
            }
            boksVelger();
            boks1.style.backgroundColor = boksVelger().style.backgroundColor;
        }
    </script>
</body></html>
